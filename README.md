# Анализ вакансий на hh.ru

Веб-приложение для анализа вакансий с сайта hh.ru. Программа собирает данные о вакансиях, строит граф пересечений навыков и выделяет сообщества вакансий с помощью алгоритма Лувена.

## Функции

- Сбор вакансий с hh.ru по ключевому слову
- Обработка и лемматизация текста требований
- Извлечение ключевых навыков с помощью TF-IDF
- Построение графа связей между вакансиями на основе общих навыков
- Выделение сообществ вакансий (алгоритм Лувена)
- Интерактивная визуализация графов через веб-интерфейс

## Структура проекта

- `src/hh_data_collection.py` - сбор данных с API hh.ru
- `src/session.py` - управление HTTP сессиями с повторными попытками
- `src/network.py` - обработка текста, построение графа, выделение сообществ
- `src/app.py` - веб-приложение на Flask + Dash
- `templates/index.html` - главная страница
- `data/python_300_vac.csv` - собранные данные о вакансиях

## Установка и запуск

### 1. Клонирование репозитория

```bash
git clone https://github.com/emopudge/hh-vacancy-analysis.git
cd hh-vacancy-analysis
```
### 2. Создание виртуального окружения
```python -m venv .venv```

Активация окружения:

- Windows:
```venv\Scripts\activate```

text
- Linux/Mac:
```source venv/bin/activate```

### 3. Установка зависимостей
```
pip install -r requirements.txt
python -m spacy download ru_core_news_sm
```

### 4. Запуск приложения
```
cd src
python app.py
```

После запуска откройте браузер и перейдите по адресу: `http://localhost:5000`

## Использование

### Главная страница
Содержит навигацию по разделам приложения.

### Анализ данных (/dashboard/)
- Гистограмма самых частых вакансий
- Таблица вакансий с ключевыми навыками

### Визуализация графов (/network/)
- Общий граф всех сообществ
- Детальные графы для каждого сообщества
- Топ-10 навыков для каждого сообщества

## Сбор свежих данных

Для сбора новых данных выполните:
```
cd src
python hh_data_collection.py
```

По умолчанию собирается 3 страницы вакансий по запросу "python". Результат сохраняется в `data/python_300_vac.csv`.

## Зависимости

- Flask 2.3.2 - веб-фреймворк
- Dash 2.14.0 - интерактивные дашборды
- Pandas 2.0.3 - обработка данных
- Plotly 5.15.0 - визуализация
- NetworkX 3.1 - работа с графами
- scikit-learn 1.3.0 - TF-IDF для извлечения ключевых слов
- spaCy 3.6.1 - лемматизация русского текста
- Requests 2.31.0 - HTTP запросы
- Matplotlib 3.7.2 - вспомогательная визуализация

## Настройка параметров

Основные параметры можно изменить в файлах:

- `hh_data_collection.py` - количество страниц для парсинга (переменная pages в функции get_vacancies)
- `network.py` - количество ключевых слов (параметр n_keywords в функции get_keywords)
- `network.py` - разрешение для алгоритма Лувена (параметр resolution в функции get_communities)

